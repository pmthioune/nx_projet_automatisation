import pandas as pd
import numpy as np

def compute_descriptive_stats(df):
    stats = {}
    for col in df.columns:
        if df[col].dtype in ['int64', 'float64']:  # Variables numériques
            stats[col] = {
                'min': df[col].min(),
                'max': df[col].max(),
                'mean': df[col].mean(),
                'median': df[col].median(),
                'q1': df[col].quantile(0.25),
                'q3': df[col].quantile(0.75),
                'std': df[col].std()
            }
        else:  # Variables catégoriques
            stats[col] = {
                'mode': df[col].mode()[0] if not df[col].mode().empty else None,
                'unique_values': df[col].nunique(),
                'top_frequencies': df[col].value_counts().head(3).to_dict()
            }
    return stats

# Exemple d'utilisation avec un fichier CSV (à remplacer par votre dataset réel)
if __name__ == "__main__":
    # Charger les données (remplacez 'data.csv' par votre fichier réel)
    df = pd.read_csv('data.csv')
    
    # Calcul des statistiques descriptives
    stats = compute_descriptive_stats(df)
    
    # Affichage des résultats
    for col, stat in stats.items():
        print(f"Statistiques pour {col}:")
        for key, value in stat.items():
            print(f"  {key}: {value}")
        print("-")
